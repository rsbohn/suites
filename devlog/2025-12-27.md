# Devlog 2025-12-27

## Updates

Added weather and message data for December 23-31, 2025 to the field.db database.

### Weather Data Added
- 9 weather entries covering Dec 23-31, 2025
- Winter conditions: temperatures ranging from -3.5°C to 4.2°C
- Variety of conditions: freezing fog, light snow, frost, winter sun, drizzle
- Includes precipitation chances and seasonal notes

### Message Data Added
- 27 messages (3 per day) for Dec 23-31, 2025
- Authors: Ivy, Noor, Rae
- Themes: winter farming observations, frost, snow, year-end reflections
- Posted to 'central' board with timestamps throughout each day

## Instructions for Updating Weather and Messages

### Prerequisites
- Python 3 installed
- Access to `data/field.db` SQLite database

### Updating Weather

Weather data is stored in the `weather` table with the following schema:
```sql
CREATE TABLE weather (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  date TEXT NOT NULL,              -- Format: 'YYYY-MM-DD'
  condition TEXT NOT NULL,          -- e.g., 'Light snow', 'Frost'
  temperature_c REAL NOT NULL,      -- Temperature in Celsius
  precipitation_chance INTEGER DEFAULT 0,  -- Percentage (0-100)
  note TEXT                         -- Optional descriptive note
)
```

**To add weather entries:**

```python
import sqlite3

conn = sqlite3.connect('data/field.db')
cursor = conn.cursor()

# Example: Add a single weather entry
cursor.execute("""
    INSERT INTO weather (date, condition, temperature_c, precipitation_chance, note)
    VALUES (?, ?, ?, ?, ?)
""", ('2025-12-27', 'Winter sun', 2.3, 15, 'Bright but cold'))

conn.commit()
conn.close()
```

### Updating Messages

Messages are stored in the `messages` table with the following schema:
```sql
CREATE TABLE messages (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  board TEXT NOT NULL,              -- Usually 'central'
  author TEXT NOT NULL,             -- e.g., 'Ivy', 'Noor', 'Rae'
  text TEXT NOT NULL,               -- The message content
  created_at TEXT NOT NULL          -- Format: 'YYYY-MM-DD HH:MM:SS'
)
```

**To add message entries:**

```python
import sqlite3

conn = sqlite3.connect('data/field.db')
cursor = conn.cursor()

# Example: Add a single message
cursor.execute("""
    INSERT INTO messages (board, author, text, created_at)
    VALUES ('central', ?, ?, ?)
""", ('Ivy', 'Sunlight returns but brings no warmth; shadows stretch long and blue.', 
      '2025-12-27 09:30:00'))

conn.commit()
conn.close()
```

### Batch Update Script

For adding multiple entries at once, create a Python script:

```python
import sqlite3

conn = sqlite3.connect('data/field.db')
cursor = conn.cursor()

# Weather data
weather_data = [
    ('2025-12-23', 'Freezing fog', 0.5, 20, 'Frost on everything'),
    ('2025-12-24', 'Light snow', -1.2, 60, 'Christmas Eve flurries'),
    # ... more entries
]

for weather in weather_data:
    cursor.execute("""
        INSERT INTO weather (date, condition, temperature_c, precipitation_chance, note)
        VALUES (?, ?, ?, ?, ?)
    """, weather)

# Messages data
messages_data = [
    ('2025-12-23 08:15:00', 'Ivy', 'Fog wraps the field like wool...'),
    ('2025-12-23 11:30:00', 'Noor', 'Ice glazes every surface...'),
    # ... more entries
]

for created_at, author, text in messages_data:
    cursor.execute("""
        INSERT INTO messages (board, author, text, created_at)
        VALUES ('central', ?, ?, ?)
    """, (author, text, created_at))

conn.commit()
conn.close()
```

### Tips

1. **Message Style**: Messages follow a poetic, observational style focusing on field conditions, weather, and farming activities
2. **Authors**: Current authors are Ivy, Noor, and Rae
3. **Frequency**: Typically 3 messages per day at different times
4. **Weather Patterns**: Keep seasonal - cold/frost in winter, warm/rain in summer
5. **Verify**: Query the database after updates to confirm data was added correctly

### Verification Queries

```python
import sqlite3

conn = sqlite3.connect('data/field.db')
cursor = conn.cursor()

# Check weather for a date range
cursor.execute("""
    SELECT date, condition, temperature_c 
    FROM weather 
    WHERE date BETWEEN '2025-12-23' AND '2025-12-31'
    ORDER BY date
""")
print(cursor.fetchall())

# Check messages for a date range
cursor.execute("""
    SELECT substr(created_at, 1, 10) as date, author, text
    FROM messages 
    WHERE board='central' AND substr(created_at, 1, 10) BETWEEN '2025-12-23' AND '2025-12-31'
    ORDER BY created_at
""")
print(cursor.fetchall())

conn.close()
```
